<!doctype html><html lang=it-it dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Tabella comparativa e diagramma di flusso per scegliere il metodo corretto di bufio.Reader in Go, con esempio pratico"><title>Confronto tra ReadRune, ReadBytes, ReadString e ReadLine in Go</title>
<link rel=canonical href=https://procionegobbo.it/blog/read-methods-golang/><link rel=stylesheet href=https://procionegobbo.it/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Confronto tra ReadRune, ReadBytes, ReadString e ReadLine in Go"><meta property='og:description' content="Tabella comparativa e diagramma di flusso per scegliere il metodo corretto di bufio.Reader in Go, con esempio pratico"><meta property='og:url' content='https://procionegobbo.it/blog/read-methods-golang/'><meta property='og:site_name' content='Federico Maiorini'><meta property='og:type' content='article'><meta property='article:section' content='Blog'><meta property='article:tag' content='golang'><meta property='article:tag' content='bufio'><meta property='article:tag' content='io'><meta property='article:tag' content='guide tecniche'><meta property='article:published_time' content='2025-08-18T00:00:00+00:00'><meta property='article:modified_time' content='2025-08-18T00:00:00+00:00'><meta property='og:image' content='https://procionegobbo.it/blog/read-methods-golang/bufioreader.png'><meta name=twitter:title content="Confronto tra ReadRune, ReadBytes, ReadString e ReadLine in Go"><meta name=twitter:description content="Tabella comparativa e diagramma di flusso per scegliere il metodo corretto di bufio.Reader in Go, con esempio pratico"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://procionegobbo.it/blog/read-methods-golang/bufioreader.png'><link rel=icon type=image/png href=https://procionegobbo.it/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=https://procionegobbo.it/><img src=https://procionegobbo.it/images/avatar.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=https://procionegobbo.it/>Federico Maiorini</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=https://procionegobbo.it/blog/><span>Blog</span></a></li><li><a href=https://procionegobbo.it/gdr/><span>GDR</span></a></li><li><a href=https://procionegobbo.it/scrittura/><span>Scrittura</span></a></li><li><a href=https://procionegobbo.it/chi-sono/><span>Chi sono</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://procionegobbo.it/ selected>Italiano</option><option value=https://procionegobbo.it/en/>English</option></select></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=https://procionegobbo.it/blog/read-methods-golang/><img src=https://procionegobbo.it/blog/read-methods-golang/bufioreader_hu0a2ddd5a35c169dbec7b833a92df8704_2215434_800x0_resize_box_3.png srcset="https://procionegobbo.it/blog/read-methods-golang/bufioreader_hu0a2ddd5a35c169dbec7b833a92df8704_2215434_800x0_resize_box_3.png 800w, https://procionegobbo.it/blog/read-methods-golang/bufioreader_hu0a2ddd5a35c169dbec7b833a92df8704_2215434_1600x0_resize_box_3.png 1600w" width=800 height=533 loading=lazy alt="Featured image of post Confronto tra ReadRune, ReadBytes, ReadString e ReadLine in Go"></a></div><div class=article-details><header class=article-category><a href=https://procionegobbo.it/categories/programmazione/>Programmazione
</a><a href=https://procionegobbo.it/categories/golang/>Golang</a></header><div class=article-title-wrapper><h2 class=article-title><a href=https://procionegobbo.it/blog/read-methods-golang/>Confronto tra ReadRune, ReadBytes, ReadString e ReadLine in Go</a></h2><h3 class=article-subtitle>Tabella comparativa e diagramma di flusso per scegliere il metodo corretto di bufio.Reader in Go, con esempio pratico</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>ago 18, 2025</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>4 min per leggere</time></div></footer></div></header><section class=article-content><h1 id=-confronto-metodi-di-bufioreader-in-go>ğŸ“š Confronto metodi di <code>bufio.Reader</code> in Go</h1><h2 id=introduzione>Introduzione</h2><p>Recentemente sto studiando <a class=link href=https://go.dev/ target=_blank rel=noopener>Go</a>, linguaggio interessante e per me Ã¨ un ritorno (ho iniziato a programmare col C) ad un tipo di programmazione profondamente diversa da quella che ho praticato negli ultimi anni specializzandomi su PHP/Laravel.
Una delle cose che mi interessano Ã¨ come leggere e scrivere da uno stream quindi, con l&rsquo;aiuto di una IA mi sono fatto un veloce riepilogo delle differenze tra alcuni metodi della libreria <code>bufio</code>.</p><p>I metodi <strong><code>ReadRune</code></strong>, <strong><code>ReadBytes</code></strong>, <strong><code>ReadString</code></strong> e <strong><code>ReadLine</code></strong> sono molto simili ma solo in apparenza.
Ecco una guida rapida per capire le differenze.</p><hr><h2 id=tabella-comparativa>Tabella comparativa</h2><div class=table-wrapper><table><thead><tr><th>Metodo</th><th>Firma</th><th>Cosa legge</th><th>Tipo restituito</th><th>Include <code>\n</code>?</th><th>Note pratiche</th></tr></thead><tbody><tr><td><strong>ReadRune()</strong></td><td><code>(r rune, size int, err error)</code></td><td><strong>Un singolo carattere Unicode</strong> (1 rune)</td><td><code>rune</code> (+size+err)</td><td>N/A (legge solo 1 carattere)</td><td>Utile per analizzare caratteri uno alla volta (UTF-8 safe).</td></tr><tr><td><strong>ReadBytes(delim byte)</strong></td><td><code>([]byte, error)</code></td><td>Fino a <code>delim</code> incluso</td><td><code>[]byte</code></td><td>âœ… sÃ¬</td><td>Restituisce slice di byte, ottimo per parsing binario o testo grezzo.</td></tr><tr><td><strong>ReadString(delim byte)</strong></td><td><code>(string, error)</code></td><td>Fino a <code>delim</code> incluso</td><td><code>string</code></td><td>âœ… sÃ¬</td><td>Comodo se sai di leggere testo, meno efficiente di <code>ReadBytes</code>.</td></tr><tr><td><strong>ReadLine()</strong></td><td><code>([]byte, isPrefix bool, error)</code></td><td>Una riga (senza <code>\n</code>)</td><td><code>[]byte</code> + <code>isPrefix</code> + <code>err</code></td><td>âŒ no</td><td>Se la riga Ã¨ troppo lunga, la restituisce a pezzi (<code>isPrefix = true</code>). Serve loop per ricomporla. PiÃ¹ basso livello.</td></tr></tbody></table></div><hr><h2 id=-diagramma-di-flusso-decisionale>ğŸ”€ Diagramma di flusso decisionale</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>                     â”‚ Vuoi leggere 1 carattere?    â”‚
</span></span><span style=display:flex><span>                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style=display:flex><span>                                     â”‚
</span></span><span style=display:flex><span>                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>                           â”‚ Usa ReadRune()    â”‚
</span></span><span style=display:flex><span>                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                                     â”‚
</span></span><span style=display:flex><span>                                     â–¼
</span></span><span style=display:flex><span>                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>                     â”‚ Vuoi leggere fino a un       â”‚
</span></span><span style=display:flex><span>                     â”‚ delimitatore (es. &#39;\n&#39;)?     â”‚
</span></span><span style=display:flex><span>                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style=display:flex><span>                                     â”‚
</span></span><span style=display:flex><span>                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>                   â”‚                 |                 â”‚
</span></span><span style=display:flex><span>        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      |      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>        â”‚ Ti serve un []byte? â”‚      |      â”‚ Ti serve una stringa?â”‚
</span></span><span style=display:flex><span>        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      |      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style=display:flex><span>                   â”‚                 |                  â”‚
</span></span><span style=display:flex><span>        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      |      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>        â”‚ Usa ReadBytes()     â”‚      |      â”‚ Usa ReadString()      â”‚
</span></span><span style=display:flex><span>        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      |      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style=display:flex><span>                                     â”‚
</span></span><span style=display:flex><span>                                     â”‚
</span></span><span style=display:flex><span>                                     â–¼
</span></span><span style=display:flex><span>                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>                     â”‚ Devi gestire linee molto     â”‚
</span></span><span style=display:flex><span>                     â”‚ lunghe (buffer a pezzi)?     â”‚
</span></span><span style=display:flex><span>                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style=display:flex><span>                                     â”‚
</span></span><span style=display:flex><span>                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style=display:flex><span>                           â”‚ Usa ReadLine()    â”‚
</span></span><span style=display:flex><span>                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span></code></pre></div><h2 id=esempio-pratico>Esempio pratico</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;bufio&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;bytes&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>text</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;cafÃ©\nseconda linea\nterza linea senza newline finale&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// --- ReadRune(): legge un singolo carattere Unicode alla volta ---
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;== ReadRune() ==&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>text</span>))
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>4</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> { <span style=color:#75715e>// leggo le prime 4 rune: c, a, f, Ã©
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#a6e22e>ru</span>, <span style=color:#a6e22e>size</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>ReadRune</span>()
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Errore ReadRune:&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;rune=%q size=%d\n&#34;</span>, <span style=color:#a6e22e>ru</span>, <span style=color:#a6e22e>size</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// --- ReadBytes(&#39;\n&#39;): legge fino al delimitatore incluso e restituisce []byte ---
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;== ReadBytes(&#39;\\n&#39;) ==&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>text</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>ReadBytes</span>(<span style=color:#e6db74>&#39;\n&#39;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Errore ReadBytes:&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;ReadBytes: %q (len=%d)\n&#34;</span>, <span style=color:#a6e22e>b</span>, len(<span style=color:#a6e22e>b</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// --- ReadString(&#39;\n&#39;): stesso comportamento ma restituisce string ---
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;== ReadString(&#39;\\n&#39;) ==&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>text</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>ReadString</span>(<span style=color:#e6db74>&#39;\n&#39;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Errore ReadString:&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;ReadString: %q (len=%d)\n&#34;</span>, <span style=color:#a6e22e>s</span>, len(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// --- ReadLine(): NON include &#39;\n&#39; e puÃ² restituire porzioni (isPrefix=true) ---
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Forziamo una linea piÃ¹ lunga del buffer per vedere isPrefix=true.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;== ReadLine() con buffer piccolo e isPrefix ==&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>longLine</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;abcdefghij\n&#34;</span> <span style=color:#75715e>// 10 caratteri + &#39;\n&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>smallBuf</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewReaderSize</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>longLine</span>), <span style=color:#ae81ff>8</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>parts</span> [][]<span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>line</span>, <span style=color:#a6e22e>isPrefix</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>smallBuf</span>.<span style=color:#a6e22e>ReadLine</span>()
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#75715e>// fine input o errore
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			<span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#75715e>// Copia difensiva del frammento letto
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#a6e22e>parts</span> = append(<span style=color:#a6e22e>parts</span>, append([]byte(<span style=color:#66d9ef>nil</span>), <span style=color:#a6e22e>line</span><span style=color:#f92672>...</span>))
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;chunk=%q isPrefix=%v\n&#34;</span>, <span style=color:#a6e22e>line</span>, <span style=color:#a6e22e>isPrefix</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>isPrefix</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>recombined</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>parts</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Ricomposta: %q (pezzi=%d)\n&#34;</span>, <span style=color:#a6e22e>recombined</span>, len(<span style=color:#a6e22e>parts</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// --- Esempio classico di ReadLine su testo normale (senza superare il buffer) ---
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;== ReadLine() normale ==&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>text</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>line</span>, <span style=color:#a6e22e>isPrefix</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>ReadLine</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;line=%q isPrefix=%v (niente &#39;\\n&#39;)\n&#34;</span>, <span style=color:#a6e22e>line</span>, <span style=color:#a6e22e>isPrefix</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=conclusioni>Conclusioni</h2><h3 id=in-sintesi-veloce>In sintesi veloce:</h3><ul><li><code>ReadRune</code> â†’ analisi carattere-per-carattere, sicuro su UTF-8.</li><li><code>ReadBytes</code> â†’ legge fino al delimitatore e restituisce <code>[]byte</code> (ottimo per parsing binario/grezzo).</li><li><code>ReadString</code> â†’ come sopra ma restituisce string (piÃ¹ comodo, piÃ¹ allocazioni).</li><li><code>ReadLine</code> â†’ non include <code>\n</code>, gestisce linee molto lunghe a pezzi con <code>isPrefix</code>.</li></ul><h3 id=insidie-comuni-da-ricordare>Insidie comuni da ricordare:</h3><ul><li>Fine riga su Windows Ã¨ <code>\r\n</code>: rimuovi il <code>\r</code> finale se leggi fino a <code>\n</code>.</li><li><code>bufio.Scanner</code> ha un limite di token (â‰ˆ64 KB) che va aumentato per righe grandi.</li><li>Le allocazioni: <code>ReadString</code> crea sempre una nuova stringa; con <code>ReadBytes</code> puoi restare su <code>[]byte</code> finchÃ© serve.</li></ul><h3 id=cosa-usare-quando>Cosa usare quando:</h3><ul><li>Parsing binario o attenzione alle allocazioni â†’ <code>ReadBytes</code>.</li><li>Input testuale â€œline-orientedâ€ â†’ <code>ReadString</code> (oppure Scanner).</li><li>Analisi fine di rune (accenti/emoji) â†’ <code>ReadRune</code>.</li><li>Log/file con righe enormi â†’ <code>ReadLine</code> (ricomponi quando <code>isPrefix</code> == true).</li></ul></section><footer class=article-footer><section class=article-tags><a href=https://procionegobbo.it/tags/golang/>Golang</a>
<a href=https://procionegobbo.it/tags/bufio/>Bufio</a>
<a href=https://procionegobbo.it/tags/io/>Io</a>
<a href=https://procionegobbo.it/tags/guide-tecniche/>Guide Tecniche</a></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2025 Federico Maiorini</section><section class=powerby>Federico Maiorini<br>Realizzato con <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Tema <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> realizzato da <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=https://procionegobbo.it/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>